!function(e,o){e.shopme_woocommerce_mod=e.shopme_woocommerce_mod||{},e.shopme_core_helpers=e.shopme_core_helpers||{},e.shopme_core_helpers.owlInOwl=function(t){void 0===t&&(t=this.$element);var a=e(".flex-control-nav",t);a.length&&(a.owlCarousel({responsive:{0:{items:3},480:{items:3},992:{items:3}},margin:10,themeClass:"thumbnails_carousel",nav:!0,navText:[],rtl:!!o.ISRTL}),a.off("change.owl.carousel"))},e.shopme_woocommerce_mod.other_products=function(){if(e(".other_products").length){var t=e(".other_products"),a=e(".products",t),r=t.data("columns")||3,i="no_sidebar"==t.data("sidebar")?3:2;a.owlCarousel({responsive:{0:{items:1},487:{items:i},992:{items:r}},nav:!0,navText:[],rtl:!!o.ISRTL})}},e.shopme_woocommerce_mod.products_page_carousel=function(){if(e(".products_page_carousel").length){var t=e(".products_page_carousel");t.children().length>1&&t.each(function(){var t=e(this);t.children().length>1&&t.owlCarousel({items:1,autoHeight:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!o.ISRTL,onInitialized:e.shopme_core_helpers.owlInOwl}).off("change.owl.carousel")})}},e.shopme_woocommerce_mod.cart_dropdown=function(){({init:function(){var e=this;e.support={touch:Modernizr.touch,transitions:Modernizr.csstransitions},e.eventtype=e.support.touch?"touchstart":"click",e.listeners()},listeners:function(){var e=this;e.track_ajax_refresh_cart(e),e.track_ajax_adding_to_cart(),e.track_ajax_added_to_cart(e),e.scrollbar_cart(),e.eventQty()},track_ajax_refresh:function(){e.post(woocommerce_params.ajax_url,{action:"shopme_mode_theme_update_mini_cart"},function(o){e(".widget_shopping_cart_content").html(o)})},track_ajax_refresh_cart:function(o){e.ajax({type:"POST",dataType:"json",url:shopme_global.ajaxurl,data:{action:"refresh_cart_fragment"},success:function(t){o.update_cart_fragment(t.fragments),e("body").trigger("wc_fragments_loaded")}}),e("body").on("wc_fragments_refreshed wc_fragments_loaded",function(t){o.ajax_remove_cart_item(o),e.shopme_dropdown_list.update("#header .dropdown-list",{speed:10})})},track_ajax_adding_to_cart:function(){e("body").on("adding_to_cart",function(e,o,t){e.preventDefault(),o.block({message:null,overlayCSS:{background:"#fff url("+shopme_global.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}})})},track_ajax_added_to_cart:function(o){e("body").on("added_to_cart",function(t,a,r,i){i.unblock().hide(),o.update_count_and_subtotal(a),o.update_cart_dropdown.call(o,t),e.shopme_dropdown_list.update("#header .dropdown-list",{speed:10})})},update_count_and_subtotal:function(o){e(".open_button").attr("data-amount",o.count).children("b.total_price").html(o.subtotal)},update_cart_dropdown:function(e){this.ajax_remove_cart_item(this)},update_cart_fragment:function(o){o&&e.each(o,function(o,t){e(o).replaceWith(t)})},ajax_remove_cart_item:function(o){e(".shopping_cart .remove-product, .sc_product .remove-product").on(o.eventtype,function(t){t.preventDefault();var a=e(this),r=a.data("cart_id");a.data("product_id");e.ajax({type:"POST",dataType:"json",url:shopme_global.ajaxurl,data:{action:"cart_item_remove",_wpnonce:woocommerce_mod.nonce_cart_item_remove,cart_id:r},success:function(t){var r=t.fragments;r&&a.parent().animate({opacity:0},function(){var t=e(this);t.add(t.parent()).slideUp(350,function(){t.remove(),o.update_count_and_subtotal(r),o.update_cart_fragment(r),e("body").trigger("wc_fragments_refreshed")})})}})})},scrollbar_cart:function(){e(".shopping_cart.dropdown").length&&e(".shopping_cart.dropdown").scrollbar()},eventQty:function(){e(document).on("click",".plus, .minus",function(){var o=e(this).closest(".qty").find(".input-text"),t=parseFloat(o.val()),a=parseFloat(o.attr("max")),r=parseFloat(o.attr("min")),i=o.attr("step");t&&""!==t&&"NaN"!==t||(t=0),""!==a&&"NaN"!==a||(a=""),""!==r&&"NaN"!==r||(r=0),"any"!==i&&""!==i&&void 0!==i&&"NaN"!==parseFloat(i)||(i=1),e(this).is(".plus")?a&&(a==t||t>a)?o.val(a):o.val(t+parseFloat(i)):r&&(r==t||t<r)?o.val(r):t>0&&o.val(t-parseFloat(i)),o.trigger("change")})}}).init()},e.shopme_woocommerce_mod.set_custom_scroll_bar=function(){var o=e(".custom-scrollbar");o.length&&o.is(":visible")&&o.scrollbar()},e.shopme_woocommerce_mod.zoom=function(){if(e(".single_product.images").length){if(e.shopme_woocommerce_mod.getGalleryList=function(){var o=[];return e(".product_preview a").each(function(){var t="";e(this).data("zoom-image")?t=e(this).data("zoom-image"):e(this).data("image")&&(t=e(this).data("image")),t&&o.push({href:""+t,title:e(this).find("img").attr("title")})}),o},e(".image_preview_container").length)e(".image_preview_container").each(function(){var o=e(this),t=o.data("id");e("#img_zoom",o).length&&e("#img_zoom",o).elevateZoom({zoomType:"inner",gallery:"thumbnails_"+t,galleryActiveClass:"active",cursor:"crosshair",responsive:!0,easing:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,lensFadeIn:500,lensFadeOut:500})});e(".open_qv").length&&e(".open_qv").on("click",function(o){o.preventDefault();var t,a=[];e("#img_zoom").length?t=e(this).next().children("img").data("elevateZoom").getGalleryList():t=e.shopme_woocommerce_mod.getGalleryList();if(e.each(t,function(e,o){var t={};t.src=o.href,t.type="image",a.push(t)}),0==a.length){var r={};r.src=e(this).attr("href"),r.type="image",a.push(r)}e.magnificPopup.open({items:a,type:"image",mainClass:"mfp-fade-in",removalDelay:300,closeBtnInside:!0,closeOnContentClick:!0,midClick:!0,fixedContentPos:!1,gallery:{tCounter:"%curr% / %total%",enabled:!0,preload:[1,1]},callbacks:{open:function(){var o=this;e.magnificPopup.instance.next=function(){o.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){e.magnificPopup.proto.next.call(o)},80)},e.magnificPopup.instance.prev=function(){o.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){e.magnificPopup.proto.prev.call(o)},80)}},imageLoadComplete:function(){var e=this;setTimeout(function(){e.wrap.addClass("mfp-image-loaded")},15)}}})})}},e.shopme_woocommerce_mod.specials_carousel=function(){var t=e(".widget-specials-carousel");t.length&&t.each(function(){var t=e(this),a=e("div.products",t),r=a.children().length,i={responsive:{0:{items:1},480:{items:2},768:{items:1},992:{items:1}},autoHeight:!0,autoplay:!!t.data("autoplay"),autoplayTimeout:t.data("autoplaytimeout")?t.data("autoplaytimeout"):5e3,autoplayHoverPause:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!o.ISRTL};r>1&&($owl=a.owlCarousel(i),$owl.off("change.owl.carousel"))})},e.shopme_woocommerce_mod.product_filter_styles=function(){var t=e(".products-container.view-grid").not(".widget-specials-carousel");t.length&&t.each(function(){var t=e(this),a=e("div.products",t),r=a.children().length,i=t.data("columns")||3,n="no_sidebar"==t.data("sidebar")?3:2;if(t.hasClass("owl_carousel")){if(r>1){a.on("initialized.owl.carousel resized.owl.carousel",e.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",e.shopme_core_helpers.owlGetVisibleElements);var c={responsive:{0:{items:1},480:{items:n},992:{items:i}},nav:!0,navText:[],rtl:!!o.ISRTL,onInitialized:function(){var o=this.$element,a={},r=e(".product-filter",t);e.each(this._items,function(e,o){a[e]=o.children()}),r.on("click","li",function(t){var r=e(this),i=r.children().data("filter");t.preventDefault(),r.is(".active")||(o.addClass("changed").animate({opacity:0},200,function(){var t="";"*"==i?e.each(a,function(e,o){t+=o.parent().html()}):e.each(a,function(o,a){e(a).hasClass(i)&&(t+=a.parent().html())}),""!=t.length&&o.on("initialized.owl.carousel resized.owl.carousel refresh.owl.carousel",e.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel refresh.owl.carousel",e.shopme_core_helpers.owlGetVisibleElements).trigger("replace.owl.carousel",t).trigger("refresh.owl.carousel").removeClass("changed").animate({opacity:1},200)}),r.closest("li").addClass("active").siblings().removeClass("active"))})}};a.owlCarousel(c)}}else{var s=a,l={},m=e(".product-filter",t);e.each(s.children(),function(o,t){l[o]=e(t)}),m.on("click","li",function(){var o=e(this),t=o.children().data("filter");o.is(".active")||(s.addClass("changed").animate({opacity:0},200,function(){var o="";"*"==t?e.each(l,function(t,a){var r=e(a).wrap("<div></div>");o+=r.parent().html()}):e.each(l,function(a,r){var i=e(r);if(i.hasClass(t)){var n=i.wrap("<div></div>");o+=n.parent().html()}}),""!=o.length&&s.html(o).removeClass("changed").animate({opacity:1},200)}),o.closest("li").addClass("active").siblings().removeClass("active"))})}})},e.shopme_woocommerce_mod.product_cards=function(){var t=e(".product-cards-carousel.view-grid");t.length&&t.each(function(){var t=e(this),a=e("div.products-wrap",t);t.hasClass("owl_carousel")&&(a.on("initialized.owl.carousel resized.owl.carousel",e.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",e.shopme_core_helpers.owlGetVisibleElements),a.owlCarousel({responsive:{0:{items:1},480:{items:1},992:{items:1}},nav:!0,navText:[],rtl:!!o.ISRTL,onInitialized:function(){}}))})},e.shopme_woocommerce_mod.tabbed=function(){e('[class*="tabs-holder"]').length&&e('[class*="tabs-holder"]').each(function(o,t){var a=e('[class*="tabs-nav"]',t),r=Modernizr.touch?"touchstart":"click";a.on(r,"a",function(o){o.preventDefault();var t=e(this).parent("li"),a=t.index();t.hasClass("active")&&o.preventDefault(),t.siblings().removeClass("active").end().addClass("active").parent().next().children('[class*="tab-content"]').stop(!0,!0).hide().eq(a).stop(!0,!0).fadeIn(800)})})},e.shopme_woocommerce_mod.related_carousel=function(){if(e(".related_products").length){var t=e(".related_products"),a=e(".products",t),r=t.data("columns")||4,i="no_sidebar"==t.data("sidebar")?3:2;a.owlCarousel({responsive:{0:{items:1},480:{items:i},992:{items:r}},nav:!0,navText:[],rtl:!!o.ISRTL})}},e.shopme_woocommerce_mod.thumbs_carousel=function(){e(".flex-control-nav").length&&e(".flex-control-nav").owlCarousel({responsive:{0:{items:2},480:{items:2},992:{items:3}},margin:10,themeClass:"thumbnails_carousel",nav:!0,navText:[],rtl:!!o.ISRTL}).off("change.owl.carousel")},e.changeView=function(o){this.options=e.extend({},e.changeView.DEFAULTS,o),this.init()},e.changeView.DEFAULTS={},e.changeView.prototype={init:function(){var o=this;o.body=e("body"),o.support={touch:Modernizr.touch},o.view=e(".list-or-grid"),o.view.eventtype=o.support.touch?"touchstart":"click",o.event()},event:function(){this.view.on(this.view.eventtype,"a",e.proxy(function(e){this.load(e)},this))},load:function(o){o.preventDefault();var t=e(o.currentTarget),a=t.data("view"),r=t.closest(".products-container");t.siblings().removeClass("active").end().addClass("active"),r.removeClass("view-grid list_view_products").addClass(a),e.cookie("mad_shop_view",a)}},e.shopme_woocommerce_mod.goto_review=function(){e(".woocommerce-review-link, .woocommerce-write-review-link").on("click",function(o){var t=e(this).attr("href"),a=e(this.hash);a.length&&("#reviews"!=t&&"#commentform"!=t||(o.preventDefault(),e(".tabs_nav li.reviews_tab a").trigger("click"),setTimeout(function(){e("html, body").stop().animate({scrollTop:a.offset().top},600)},50)))});var t=o.location.hash;"#commentform"!=t&&"#reviews"!=t&&-1==t.indexOf("#comment-")||setTimeout(function(){var o=e(t);o.length&&("#reviews"!=t&&"#commentform"!=t&&-1==t.indexOf("#comment-")||e(".tabs_nav li.reviews_tab a").trigger("click"),e("html, body").stop().animate({scrollTop:o.offset().top-e.shopme_core.stickyMenu.sticky_height-e.shopme_core.stickyMenu.adminbar_height-50},600))},200)},e.shopme_woocommerce_mod.product_preview=function(){var o=e(".product_preview[data-output]");o.length&&o.each(function(o,t){var a=e(t),r=e(a.data("output"));a.find("[data-image]:first").addClass("active"),a.on("click",".elzoom",function(o){o.preventDefault();var t=e(this);if(!t.hasClass("active")){t.parents(".thumbs_carousel").find("a").removeClass("active"),t.addClass("active");var a=e(this).data("image");r.length&&r.children("img").stop().animate({opacity:0},250,function(){e(this).attr("src",a).stop().animate({opacity:1})})}})})},e.shopme_woocommerce_mod.check_cart_variation=function(){if("undefined"==typeof wc_add_to_cart_variation_params)return!1;e(".variations_form").wc_variation_form(),e(".variations_form .variations select").change()},e.shopme_woocommerce_mod.quick_view=function(){e(".quick-view").length&&new e.shopme_popup_prepare(".quick-view",{actionpopup:woocommerce_mod.action_quick_view,noncepopup:woocommerce_mod.nonce_quick_view_popup,on_load:function(){e(".woocommerce-product-gallery").length&&e(".woocommerce-product-gallery").each(function(){e(this).wc_product_gallery()}),e.shopme_woocommerce_mod.check_cart_variation(),e.shopme_woocommerce_mod.thumbs_carousel(),e.shopme_woocommerce_mod.product_preview(),e.shopme_woocommerce_mod.set_custom_scroll_bar()}})},e.shopme_woocommerce_mod.form_login=function(){e(".to-login").length&&new e.shopme_popup_prepare(".to-login",{actionpopup:woocommerce_mod.action_login,noncepopup:woocommerce_mod.nonce_login_popup,on_load:function(){var t=this,a=e(t.el).data().href;e("form.login").ajaxForm({url:a,success:function(){t.closeModal(),o.location.href=a}})}})},e.shopme_woocommerce_mod.dokan_toggle_category=function(){var o=e(".dokan-category-menu");o.length&&(o.find("li").each(function(o,t){e(t).children(".sub-category").length&&e(t).not(".active").children(".sub-category").hide()}),o.on("click",".caret",function(o){o.preventDefault();var t=e(o.target).parent("a").parent("li");t.children(".sub-category").length&&t.toggleClass("active").children(".sub-category").slideToggle(700,"easeInOutQuart")}))},e(o).load(function(){e.shopme_core_helpers.owlInOwl(".single_product.images"),e.shopme_woocommerce_mod.product_filter_styles(),e.shopme_woocommerce_mod.product_cards(),e.shopme_woocommerce_mod.products_page_carousel(),e.shopme_woocommerce_mod.related_carousel(),e.shopme_woocommerce_mod.other_products(),e.shopme_woocommerce_mod.specials_carousel()}),e(function(){e.shopme_woocommerce_mod.cart_dropdown(),e.shopme_woocommerce_mod.quick_view(),e.shopme_woocommerce_mod.zoom(),e.shopme_woocommerce_mod.tabbed(),e(".list-or-grid").length&&new e.changeView,e.shopme_woocommerce_mod.product_preview(),e.shopme_woocommerce_mod.goto_review(),e.shopme_woocommerce_mod.dokan_toggle_category()})}(jQuery,window);